!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(1);if(!window.reallyreadit){window.reallyreadit={};const e=new n.default({localId:"com.readup.web.extension.content-scripts.web-app",remoteId:"com.readup.web.app.client"}),t=(t,s,n)=>{e.sendMessage(t),n()},s=s=>{try{chrome.runtime.sendMessage({to:"eventPage",from:"webAppContentScript",type:s.type,data:s.data},()=>{})}catch(s){chrome.runtime.onMessage.removeListener(t),e.destruct()}};e.addListener(s),chrome.runtime.onMessage.addListener(t),e.sendMessage({type:"initialize",data:{version:chrome.runtime.getManifest().version}}),s({type:"registerPage"}),window.addEventListener("unload",()=>{s({type:"unregisterPage"})})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(2);class r extends n.default{constructor(e){super(),this._messageListener=e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.localContextId)===this._contexts.remoteId&&this.processMessage(e.data)},this._contexts=e,window.addEventListener("message",this._messageListener)}postMessage(e){const t=Object.assign(Object.assign({},e),{localContextId:this._contexts.localId,remoteContextId:this._contexts.remoteId});window.postMessage(t,"*")}destruct(){window.removeEventListener("message",this._messageListener)}}t.default=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._callbackId=1,this._onMessageListeners=[],this._responseCallbacks=[]}isResponseEnvelope(e){return null!=e.id}processMessage(e){if(this.isResponseEnvelope(e))this._responseCallbacks.splice(this._responseCallbacks.findIndex(t=>t.id===e.id),1)[0].function(e.data);else{let t;t=null!=e.callbackId?t=>{this.postMessage({id:e.callbackId,data:t})}:()=>{},this._onMessageListeners.forEach(s=>{s(e.data,t)})}}addListener(e){this._onMessageListeners.push(e)}sendMessage(e,t){let s=null;t&&this._responseCallbacks.push({id:s=this._callbackId++,function:t}),this.postMessage({data:e,callbackId:s})}}}]);