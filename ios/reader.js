!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.absoluteUrlRegex=/^(https?:)?\/{2}(?!\/)/,e.getElementAttribute=function(t,e){return t?e(t):null},e.matchGetAbsoluteUrl=function(t){if(t){var n=t.match(e.absoluteUrlRegex);if(n)return n[1]?t:window.location.protocol+t}return null},e.getWords=function(t){return t&&t.match(/\S+/g)||[]}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.buildLineage=function(t){for(var e=t.ancestor,n=[t.descendant];n[0]!==e;)n.unshift(n[0].parentElement);return n};var i=/[A-Z]?[a-z]+/g;function a(t){return t.reduce(function(t,e){return e.forEach(function(e,n){t[n].includes(e)||t[n].push(e)}),t},Array.from(new Array(Math.max.apply(Math,o(t.map(function(t){return t.length}))))).map(function(){return[]}))}e.findWordsInAttributes=function(t){return((t.id+" "+t.classList.value).match(i)||[]).map(function(t){return t.toLowerCase()})},e.isElement=function(t){return t.nodeType===Node.ELEMENT_NODE},e.isImageContainerElement=function(t){return"FIGURE"===t.nodeName||"IMG"===t.nodeName||"PICTURE"===t.nodeName},e.isValidImgElement=function(t){return t.naturalWidth<=1&&t.naturalHeight<=1||t.naturalWidth>=200&&t.naturalHeight>=100||t.naturalWidth>=100&&t.naturalHeight>=200},e.zipContentLineages=function(t){return a(t.reduce(function(t,e){return t.concat(e.contentLineages)},[]))},e.zipLineages=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this._containerLineage=[],this._contentLineages=[],this._containerLineage=t,this._contentLineages=e}return Object.defineProperty(t.prototype,"containerElement",{get:function(){return this._containerLineage.length?this._containerLineage[this._containerLineage.length-1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerLineage",{get:function(){return this._containerLineage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentLineages",{get:function(){return this._contentLineages},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(6),i=n(11),a=n(12);(new r.default).sendMessage({type:"parseResult",data:i.default(o.default(),a.default())})},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.postMessage=function(t){window.webkit&&window.webkit.messageHandlers.reallyreadit.postMessage(t)},e.prototype.createIncomingMessageHandlers=function(){var t=this,e=function(e){t.processMessage(JSON.parse(e))};return{postMessage:function(t){e(t)},sendResponse:function(t){e(t)}}},e}(n(5).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._onMessageListeners=[],this._responseCallbacks=[]}return t.prototype.isResponseEnvelope=function(t){return null!=t.id},t.prototype.processMessage=function(t){var e,n=this;this.isResponseEnvelope(t)?this._responseCallbacks.splice(this._responseCallbacks.findIndex(function(e){return e.id===t.id}),1)[0].function(t.data):(e=null!=t.callbackId?function(e){n.postMessage({id:t.callbackId,data:e})}:function(){},this._onMessageListeners.forEach(function(n){n(t.data,e)}))},t.prototype.addListener=function(t){this._onMessageListeners.push(t)},t.prototype.sendMessage=function(t,e){var n=null;e&&this._responseCallbacks.push({id:n=this._responseCallbacks.length?Math.max.apply(Math,o(this._responseCallbacks.map(function(t){return t.id})))+1:0,function:e}),this.postMessage({data:t,callbackId:n})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(8),i=n(9),a=n(10),u=n(0),c={url:null,article:{title:null,source:{},authors:[],tags:[],pageLinks:[]}};function l(t,e,n){var r;return e instanceof Array?(r=function(t){return!!t},n=e):r=e,n.map(t).find(r)}function s(t,e,n){var r;e instanceof Array?n=e:r=e;var o=n.map(t);return r&&(o=o.filter(function(t){return t.every(r)})),o.sort(function(t,e){return e.length-t.length})[0]}var f=/((^|\W)comments?($|\W))/i;e.default=function(){var t=!1,e=i.default();1===Array.from(document.getElementsByTagName("article")).filter(function(t){return!(f.test(t.id)||f.test(t.classList.value))}).length&&(t=!0);var n,d=a.default();d?t=!0:d=c;var h=document.querySelector('script[type="application/ld+json"]');if(h&&h.textContent){var p=h.textContent.match(/^\s*\/\/<!\[CDATA\[([\s\S]*)\/\/\]\]>\s*$/);try{n=p?o.default([JSON.parse(p[1])]):o.default([JSON.parse(h.textContent)])}catch(t){}}return n?t=!0:(n=o.default(r.default(document.documentElement)))?t=!0:n=c,{isArticle:t,metadata:function(t,e,n){var r=[t,n,e];return{url:l(function(t){return u.matchGetAbsoluteUrl(t.url)},r),article:{title:l(function(t){return t.article.title},r),source:l(function(t){return t.article.source},function(t){return!!t.name},r),datePublished:l(function(t){return t.article.datePublished},r),dateModified:l(function(t){return t.article.dateModified},r),authors:s(function(t){return t.article.authors},function(t){return!!t.name},r),section:l(function(t){return t.article.section},r),description:l(function(t){return t.article.description},r),tags:s(function(t){return t.article.tags},r),pageLinks:s(function(t){return t.article.pageLinks},r)}}}(n,e,d)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={a:"href",img:"src",link:"href",meta:"content",object:"data",time:"datetime"},i=/schema\.org\/(.+)/;function a(t){return t.hasAttribute("itemscope")||t.hasAttribute("itemtype")}function u(t,e){var n={};if(t.hasAttribute("itemtype")){e&&(n["@context"]="http://schema.org");var r=t.getAttribute("itemtype"),o=r.match(i);o&&2===o.length?n["@type"]=o[1]:n["@type"]=r}return n}function c(t,e,n){return t.forEach(function(t){n.hasOwnProperty(t)?n[t]instanceof Array?n[t].push(e):n[t]=[n[t],e]:n[t]=e}),e}e.default=function t(e,n,i){if(void 0===n&&(n=[]),void 0===i&&(i=null),i&&e.hasAttribute("itemprop")){var l=r.getWords(e.getAttribute("itemprop"));a(e)?i=c(l,u(e),i):e.hasAttribute("itemid")||c(l,function(t){var e=t.tagName.toLowerCase();return o.hasOwnProperty(e)?t.getAttribute(o[e]):t.textContent}(e),i)}else a(e)&&n.push(i=u(e,!0));for(var s=0;s<e.children.length;s++)t(e.children[s],n,i);return n}},function(t,e,n){"use strict";function r(t,e){var n=t instanceof Array?t[0]:t;return e&&n?e(n):n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.find(function(t){return t.hasOwnProperty("@type")&&(t["@type"].endsWith("Article")||"BlogPosting"===t["@type"])});return e?{url:r(e.url),article:{title:r(e.headline)||r(e.name),source:r(e.publisher||e.sourceOrganization||e.provider,function(t){return{name:r(t.name),url:r(t.url)}})||{},datePublished:r(e.datePublished),dateModified:r(e.dateModified),authors:function(t,e){var n=t instanceof Array?t:t?[t]:[];return e?n.map(e):n}(e.author||e.creator,function(t){return{name:r(t.name),url:r(t.url)}}),section:r(e.articleSection)||r(e.printSection),description:r(e.description),tags:e.keywords?e.keywords instanceof Array?e.keywords:e.keywords.split(","):[],pageLinks:[]}}:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(){var t=document.querySelectorAll("article h1");return{url:r.matchGetAbsoluteUrl(r.getElementAttribute(document.querySelector('link[rel="canonical"]'),function(t){return t.href}))||window.location.href.split(/\?|#/)[0],article:{title:1===t.length?t[0].textContent.trim():document.title,source:{url:r.matchGetAbsoluteUrl(r.getElementAttribute(document.querySelector('link[rel="publisher"]'),function(t){return t.href}))||window.location.protocol+"//"+window.location.hostname},description:r.getElementAttribute(document.querySelector('meta[name="description"]'),function(t){return t.content}),authors:Array.from(document.querySelectorAll('meta[name="author"]')).map(function(t){return{name:t.content}}),tags:[],pageLinks:[]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);function o(t,e){return r.getElementAttribute(e.find(function(e){return e.getAttribute("property")===t}),function(t){return t.content})}e.default=function(){var t=Array.from(document.getElementsByTagName("meta"));return/article/i.test(o("og:type",t))?{url:o("og:url",t),article:{title:o("og:title",t),source:{name:o("og:site_name",t)},datePublished:o("article:published_time",t),dateModified:o("article:modified_time",t),authors:t.filter(function(t){return"article:author"===t.getAttribute("property")}).map(function(t){var e=r.matchGetAbsoluteUrl(t.content);return e?{url:e}:{name:t.content}}),section:o("article:section",t),description:o("og:description",t),tags:t.filter(function(t){return"article:tag"===t.getAttribute("property")}).map(function(t){return t.content}),pageLinks:[]}}:null}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.primaryTextContainers.reduce(function(t,e){return t+e.wordCount},0);return r({},t.metadata,{wordCount:n,readableWordCount:n,article:r({},t.metadata.article,{description:t.metadata.article.description})})}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),u=n(14),c=n(15),l=n(16),s=n(17),f=n(18),d=n(1),h=n(19),p=n(20),m=n(21),g=n(23),y=/\S+/g,b=/^[^.!?]+[.!?'"]*$/;function v(t,e){return e.map(function(e){return t.querySelectorAll(e)}).reduce(function(t,e){return t.concat(Array.from(e))},[])}function _(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(e(r,n))return r}return null}function C(t,e){var n=t.getElementsByTagName("a");if(!n.length)return!0;if(1===n.length&&n[0].textContent===t.textContent&&t.textContent.toUpperCase()===t.textContent)return!1;var r=t.textContent.trim();if(e.regexBlacklist.some(function(t){return t.test(r)}))return!1;if(r.match(b)){var o=r.toLowerCase();return!e.singleSentenceOpenerBlacklist.some(function(t){return o.startsWith(t)})}return!0}function S(t,e){if(e.nodeNameBlacklist.includes(t.nodeName))return!1;if(e.itempropValueBlacklist.includes(t.getAttribute("itemprop")))return!1;var n=d.findWordsInAttributes(t);return!n.some(function(t){return(e.attributeFullWordBlacklist.includes(t)||e.attributeWordPartBlacklist.some(function(e){return t.includes(e)}))&&!n.some(function(t){return e.attributeFullWordWhitelist.includes(t)})})}var x=function(){function t(t,e,n,r){var o=function(t,e){return _(t,function(n,r){return d.isElement(n)&&e.nodeNameWhitelist.includes(n.nodeName)&&!t.slice(0,r).some(function(t){return e.ancestorNodeNameBlacklist.includes(t.nodeName)})})}(e,n.textContainerSelection);if(o&&!n.textContainerSearch.descendantNodeNameBlacklist.some(function(t){return!!o.getElementsByTagName(t).length})){var i=void 0,a=n?n.transpositions.find(function(t){return t.elements.some(function(t){return t===o})}):null;i=a?a.lineage.concat(o):e.slice(0,e.indexOf(o)+1);var u=new f.default(i,[e.concat(t)],function(t){return(t.textContent.match(y)||[]).length}(t)),c=r.find(function(t){return t.containerElement===o});c?c.mergeContent(u):r.push(u)}}return function(e,n,o,i){var a,u;if(void 0===i&&(i=[]),d.isElement(e)&&(!n.length||S(e,o.textContainerSearch))){var c=n.concat(e);try{for(var l=r(e.childNodes),s=l.next();!s.done;s=l.next()){var f=s.value;f.nodeType===Node.TEXT_NODE?t(f,c,o,i):x(f,c,o,i)}}catch(t){a={error:t}}finally{try{s&&!s.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}}return i}}();var P=function(){function t(t){var e,n;try{for(var o=r(t),i=o.next();!i.done;i=o.next()){var a=i.value.textContent.trim();if(a)return a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null}function e(t,n,o){var i,a;if(void 0===o&&(o=[]),h.isValidContent(t,n)){o.push(t);try{for(var u=r(t.children),c=u.next();!c.done;c=u.next()){e(c.value,n,o)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}return o}return function(n,o,i,a,u,c){if(void 0===c&&(c=[]),d.isElement(n)&&S(n,u.imageContainerSearch)){var s=o.concat(n);w(n,o.length,i,a).forEach(function(n){d.isImageContainerElement(n.node)?function(n,o,i,a){var u,c;if(S(n,i.imageContainerSearch)&&!i.imageContainerSearch.descendantNodeNameBlacklist.some(function(t){return!!n.getElementsByTagName(t).length})){var s=Array.from("IMG"===n.nodeName?[n]:n.getElementsByTagName("img")),f=s.filter(function(t){return d.isValidImgElement(t)});if(!s.length||f.length){var h=void 0,p=void 0;switch(n.nodeName){case"PICTURE":h=n,p=Array.from(n.children).filter(function(t){return"SOURCE"===t.nodeName||"META"===t.nodeName||"IMG"===t.nodeName});break;case"FIGURE":h=n,p=[];try{for(var m=r(n.children),g=m.next();!g.done;g=m.next())e(g.value,i.imageContainerContent,p)}catch(t){u={error:t}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}break;case"IMG":h=n,p=[n]}var y=_(o,function(t,e){if(0===e)return!1;var n=o[e-1];return(n.previousElementSibling||n.nextElementSibling)&&!d.findWordsInAttributes(n).some(function(t){return i.imageContainerMetadata.imageWrapperAttributeWordParts.some(function(e){return t.includes(e)})})})||n;a.push(new l.default(h?o.concat(h):[],p.map(function(t){return o.concat(d.buildLineage({descendant:t,ancestor:n}))}),t(v(y,i.imageContainerMetadata.captionSelectors)),t(v(y,i.imageContainerMetadata.creditSelectors))))}}}(n.node,s,u,c):P(n.node,s,n.edge,a,u,c)})}return c}}();function w(t,e,n,r){var o=Array.from(t.childNodes);if(n!==s.default.None&&e<r.length-1){var i,a,u=r[e+1];return n&s.default.Left&&(i=o.findIndex(function(t){return u.includes(t)})),n&s.default.Right&&(a=o.length-1-o.reverse().findIndex(function(t){return u.includes(t)}),o.reverse()),o.filter(function(t,e){return(null==i||e>=i)&&(null==a||e<=a)}).map(function(t,e,r){var o=s.default.None;return n&s.default.Left&&0===e&&(o|=s.default.Left),n&s.default.Right&&e===r.length-1&&(o|=s.default.Right),{node:t,edge:o}})}return o.map(function(t){return{node:t,edge:s.default.None}})}e.default=function(){var t=g.findPublisherConfig(m.default.publishers,window.location.hostname),e=function(t){if(t){var e=document.querySelector(t);if(e)return e}var n=document.body,r=n.querySelectorAll('[itemtype="http://schema.org/Article"], [itemtype="http://schema.org/BlogPosting"]');r.length&&(n=r[0]);var o=n.querySelectorAll("[itemprop=articleBody]");if(1===o.length)return o[0];var i=n.querySelectorAll("article");return 1===i.length?i[0]:n}(t?t.contentSearchRootElementSelector:null),n=new p.default(m.default.universal,t,e),r=function(t){return t.reduce(function(t,e){var n=e.containerLineage.length,r=t.find(function(t){return t.depth===n});return r?r.add(e):t.push(new a.default(n,e)),t},[])}(x(e,[],n).filter(function(t){return t.wordCount>0&&C(t.containerElement,n.textContainerContent)})),o=r.sort(function(t,e){return e.wordCount-t.wordCount})[0],l=function(t){return t.members.map(function(e,n,r){for(var o=r.filter(function(t){return t!==e}),i=[new c.default({hops:0,frequency:1,wordCount:e.wordCount})],a=function(n){var r=t.depth-n,a=o.filter(function(t){return t.containerLineage[r]===e.containerLineage[r]});a.length&&(i.push(new c.default({hops:2*n,frequency:a.length,wordCount:a.reduce(function(t,e){return t+e.wordCount},0)})),a.forEach(function(t){o.splice(o.indexOf(t),1)}))},l=1;l<=t.depth&&o.length;l++)a(l);return new u.default(e,i)})}(o),f=l.reduce(function(t,e){var n=t.find(function(t){return t.preferredPathHopCount===e.getPreferredPath().hops});return n?(n.searchResults.push(e),n.wordCount+=e.textContainer.wordCount):t.push({preferredPathHopCount:e.getPreferredPath().hops,searchResults:[e],wordCount:e.textContainer.wordCount}),t},[]).sort(function(t,e){return e.wordCount-t.wordCount}).reduce(function(t,e){return t.reduce(function(t,e){return t+e.wordCount},0)<o.wordCount*n.wordCountTraversalPathSearchLimitMultiplier&&t.push(e),t},[]).reduce(function(t,e){return t.concat(e.searchResults)},[]),h=f[0].textContainer.containerLineage[f[0].textContainer.containerLineage.length-Math.max(Math.max.apply(Math,i(f.map(function(t){return t.getPreferredPath().hops})))/2,1)],y=d.zipContentLineages(f.map(function(t){return t.textContainer})).slice(d.buildLineage({ancestor:e,descendant:h}).length-1),b=P(h,[],s.default.Left|s.default.Right,y,n).filter(function(t){return function(t,e){var n=(t.caption||"")+" "+(t.credit||"");return!(e.contentRegexBlacklist.some(function(t){return t.test(n)})&&!e.contentRegexWhitelist.some(function(t){return t.test(n)}))}(t,n.imageContainerMetadata)}),v=function t(e,n,r,o,a,u,c,l){return void 0===l&&(l=[]),d.isElement(e)&&!c.additionalContentNodeNameBlacklist.includes(e.nodeName)&&S(e,c)&&!u.includes(e)&&w(e,n.length,r,o).forEach(function(r){var s;d.isElement(r.node)&&(s=a.find(function(t){return t.containerElement===r.node}))?u.some(function(t){return t===r.node||r.node.contains(t)})||l.push(s):t(r.node,i([e],n),r.edge,o,a,u,c,l)}),l}(h,[],s.default.Left|s.default.Right,y,r.filter(function(t){return t.depth!==o.depth&&t.depth>=o.depth-n.textContainerSearch.additionalContentMaxDepthDecrease&&t.depth<=o.depth+n.textContainerSearch.additionalContentMaxDepthIncrease}).reduce(function(t,e){return t.concat(e.members)},[]).concat(l.filter(function(t){return!f.includes(t)}).map(function(t){return t.textContainer})),b.map(function(t){return t.containerElement}),n.textContainerSearch).filter(function(t){return C(t.containerElement,n.textContainerContent)});return{contentSearchRootElement:e,depthGroupWithMostWords:o,primaryTextContainerSearchResults:f,additionalPrimaryTextContainers:v,primaryTextRootNode:h,primaryTextContainers:f.map(function(t){return t.textContainer}).concat(v),imageContainers:b}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._wordCount=0,this._depth=t,this._members=e,this._wordCount=e.reduce(function(t,e){return t+e.wordCount},0)}return t.prototype.add=function(t){var e=this._members.find(function(e){return e.containerElement===t.containerElement});e?e.mergeContent(t):this._members.push(t),this._wordCount+=t.wordCount},Object.defineProperty(t.prototype,"depth",{get:function(){return this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"members",{get:function(){return this._members},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this._textContainer=t,this._paths=e}return t.prototype.getPreferredPath=function(){return this._preferredPath||(this._preferredPath=this._paths.sort(function(t,e){return t.wordCount!==e.wordCount?e.wordCount-t.wordCount:t.hops-e.hops})[0]),this._preferredPath},Object.defineProperty(t.prototype,"textContainer",{get:function(){return this._textContainer},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t.hops,n=t.frequency,r=t.wordCount;this._hops=e,this._frequency=n,this._wordCount=r}return t.prototype.add=function(e){var n=e.frequency,r=e.wordCount;return new t({hops:this._hops,frequency:this._frequency+n,wordCount:this._wordCount+r})},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hops",{get:function(){return this._hops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i._caption=r,i._credit=o,i}return r(e,t),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"credit",{get:function(){return this._credit},enumerable:!0,configurable:!0}),e}(n(2).default);e.default=o},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right"}(r||(r={})),e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o._wordCount=r,o}return r(e,t),e.prototype.mergeContent=function(t){var e;(e=this._contentLineages).push.apply(e,i(t._contentLineages)),this._wordCount+=t.wordCount},Object.defineProperty(e.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),e}(n(2).default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.isValidContent=function(t,e){return!e.nodeNameBlacklist.some(function(e){return t.nodeName===e})&&(e.nodeNameWhitelist.some(function(e){return t.nodeName===e||!!t.getElementsByTagName(e).length})||!function(t){var e,n,o="";try{for(var i=r(t.childNodes),a=i.next();!a.done;a=i.next()){var u=a.value;u.nodeType===Node.TEXT_NODE&&(o+=u.textContent)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}(t).trim())&&!o.findWordsInAttributes(t).some(function(t){return e.attributeBlacklist.includes(t)})&&("IMG"!==t.nodeName||o.isValidImgElement(t))}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t,e,n){this._textContainerContent=t.textContainerContent,this._imageContainerMetadata=t.imageContainerMetadata,this._imageContainerContent=t.imageContainerContent,this._textContainerSelection=t.textContainerSelection,this._wordCountTraversalPathSearchLimitMultiplier=t.wordCountTraversalPathSearchLimitMultiplier,e?(e.textContainerSearch?this._textContainerSearch=r({},t.textContainerSearch,{attributeFullWordBlacklist:t.textContainerSearch.attributeFullWordBlacklist.concat(e.textContainerSearch.attributeBlacklist||[]),attributeFullWordWhitelist:e.textContainerSearch.attributeWhitelist||[]}):this._textContainerSearch=r({},t.textContainerSearch,{attributeFullWordWhitelist:[]}),e.imageContainerSearch?this._imageContainerSearch=r({},t.imageContainerSearch,{attributeFullWordBlacklist:t.imageContainerSearch.attributeFullWordBlacklist.concat(e.imageContainerSearch.attributeBlacklist||[]),attributeFullWordWhitelist:e.imageContainerSearch.attributeWhitelist||[]}):this._imageContainerSearch=r({},t.imageContainerSearch,{attributeFullWordWhitelist:[]}),this._contentSearchRootElementSelector=e.contentSearchRootElementSelector,e.transpositions?this._transpositions=e.transpositions.map(function(t){var e=document.querySelector(t.parentElementSelector),r=t.elementSelectors.reduce(function(t,e){return t.concat(Array.from(document.querySelectorAll(e)))},[]);return e&&r.length?{elements:r,lineage:o.buildLineage({ancestor:n,descendant:e})}:null}).filter(function(t){return!!t}):this._transpositions=[],this._imageStrategy=e.imageStrategy):(this._textContainerSearch=r({},t.textContainerSearch,{attributeFullWordWhitelist:[]}),this._imageContainerSearch=r({},t.imageContainerSearch,{attributeFullWordWhitelist:[]}),this._transpositions=[])}return Object.defineProperty(t.prototype,"textContainerSearch",{get:function(){return this._textContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContainerContent",{get:function(){return this._textContainerContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerSearch",{get:function(){return this._imageContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerMetadata",{get:function(){return this._imageContainerMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerContent",{get:function(){return this._imageContainerContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContainerSelection",{get:function(){return this._textContainerSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentSearchRootElementSelector",{get:function(){return this._contentSearchRootElementSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transpositions",{get:function(){return this._transpositions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCountTraversalPathSearchLimitMultiplier",{get:function(){return this._wordCountTraversalPathSearchLimitMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageStrategy",{get:function(){return this._imageStrategy},enumerable:!0,configurable:!0}),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22);e.default={universal:{textContainerSearch:{nodeNameBlacklist:["BUTTON","FIGURE","FORM","HEAD","IFRAME","NAV","NOSCRIPT","PICTURE","SCRIPT","STYLE"],attributeFullWordBlacklist:["ad","carousel","gallery","related","share","subscribe","subscription"],attributeWordPartBlacklist:["byline","caption","comment","download","interlude","image","meta","newsletter","photo","promo","pullquote","recirc","video"],itempropValueBlacklist:["author","datePublished"],descendantNodeNameBlacklist:["FORM","IFRAME"],additionalContentNodeNameBlacklist:["ASIDE","FOOTER","HEADER"],additionalContentMaxDepthDecrease:1,additionalContentMaxDepthIncrease:1},textContainerContent:{regexBlacklist:[/^\[[^\]]+\]$/],singleSentenceOpenerBlacklist:["â–º","click here","don't miss","listen to this story","read more","related article:","sign up for","sponsored:","this article appears in","watch:"]},imageContainerSearch:{nodeNameBlacklist:["FORM","HEAD","IFRAME","NAV","NOSCRIPT","SCRIPT","STYLE"],attributeFullWordBlacklist:["ad","related","share","subscribe","subscription"],attributeWordPartBlacklist:["interlude","newsletter","promo","recirc","video"],itempropValueBlacklist:[],descendantNodeNameBlacklist:["FORM","IFRAME"]},imageContainerMetadata:{contentRegexBlacklist:[/audm/i],contentRegexWhitelist:[],captionSelectors:["figcaption",'[class*="caption"i]','[itemProp*="caption"i]','[itemProp*="description"i]'],creditSelectors:['[class*="credit"i]','[class*="source"i]','[itemProp*="copyrightHolder"i]'],imageWrapperAttributeWordParts:["image","img","photo"]},imageContainerContent:{nodeNameBlacklist:["BUTTON"],nodeNameWhitelist:["IMG","META","PICTURE","SOURCE"],attributeBlacklist:["expand","icon","share"]},textContainerSelection:{nodeNameWhitelist:["ASIDE","BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],ancestorNodeNameBlacklist:["BLOCKQUOTE","LI","P"]},wordCountTraversalPathSearchLimitMultiplier:.75},publishers:[{hostname:"article-test.dev.readup.com",transpositions:[{elementSelectors:[".lead"],parentElementSelector:".lead + div"}],imageStrategy:r.LazyImageStrategy.PostLoadImgTag},{hostname:"atlantic.com",imageStrategy:r.LazyImageStrategy.AtlanticFigureImgDataSrc},{hostname:"churchofjesuschrist.org",transpositions:[{elementSelectors:[".body-block > p",".body-block > section:first-of-type > header > h2"],parentElementSelector:".body-block > section:first-of-type"}]},{hostname:"cnn.com",transpositions:[{elementSelectors:[".el__leafmedia--sourced-paragraph > .zn-body__paragraph",".l-container > .zn-body__paragraph:not(.zn-body__footer)",".l-container > .zn-body__paragraph > h3"],parentElementSelector:".zn-body__read-all"}]},{hostname:"huffpost.com",transpositions:[{elementSelectors:['#entry-text [data-rapid-subsec="paragraph"] > :not([data-rapid-subsec="paragraph"])'],parentElementSelector:"#entry-text"}]},{hostname:"insider.com",imageStrategy:r.LazyImageStrategy.PostLoadImgTag},{hostname:"medium.com",textContainerSearch:{attributeWhitelist:["ad"]}},{hostname:"nytimes.com",transpositions:[{elementSelectors:[".story-body-1 > .story-body-text"],parentElementSelector:".story-body-2"}],imageStrategy:r.LazyImageStrategy.NytFigureImageObject},{hostname:"sciencedaily.com",transpositions:[{elementSelectors:["p.lead"],parentElementSelector:"div#text"}]},{hostname:"stanfordmag.org",textContainerSearch:{attributeWhitelist:["image"]}},{hostname:"telegraph.co.uk",transpositions:[{elementSelectors:['#mainBodyArea > div[class$="Par"] > *'],parentElementSelector:"#mainBodyArea > .body"}]},{hostname:"theatlantic.com",imageContainerSearch:{attributeBlacklist:["callout"]}},{hostname:"topic.com",textContainerSearch:{attributeWhitelist:["essay"]}},{hostname:"wired.com",textContainerSearch:{attributeBlacklist:["inset"]}}]}},function(t,e,n){"use strict";var r,o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};function a(t,e){var n=new IntersectionObserver(function(t,n){t.forEach(function(t){t.isIntersecting&&(n.unobserve(t.target),e(t.target))})},{rootMargin:"0px 0px 200px 0px"});Array.from(t).forEach(function(t){n.observe(t)})}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AtlanticFigureImgDataSrc=0]="AtlanticFigureImgDataSrc",t[t.NytFigureImageObject=1]="NytFigureImageObject",t[t.PostLoadImgTag=2]="PostLoadImgTag"}(r=e.LazyImageStrategy||(e.LazyImageStrategy={})),e.default=function(t){switch(t){case r.AtlanticFigureImgDataSrc:a(document.querySelectorAll("figure"),function(t){var e=t.getElementsByTagName("img")[0];!e.hasAttribute("srcset")&&e.hasAttribute("data-srcset")&&(e.srcset=e.getAttribute("data-srcset"))});break;case r.NytFigureImageObject:a(document.querySelectorAll('figure[itemType="http://schema.org/ImageObject"]'),function(t){if(!t.getElementsByTagName("img").length){var e=document.createElement("img");e.src=t.getAttribute("itemID"),t.prepend(e)}});break;case r.PostLoadImgTag:a(document.getElementsByTagName("postload-img"),function(t){var e=document.createElement("img");(function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];n.forEach(function(n){var r,o;"string"==typeof n?(r=n,o=n):(r=n[0],o=n[1]),t.hasAttribute(r)&&e.setAttribute(o,t.getAttribute(r))})}).apply(void 0,i([t,e],["data-alt","data-class","data-sizes","data-src","data-srcset","data-title"].map(function(t){return[t,t.split("-")[1]]}))),t.replaceWith(e)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findPublisherConfig=function(t,e){return t.find(function(t){return e.endsWith(t.hostname)})}}]);